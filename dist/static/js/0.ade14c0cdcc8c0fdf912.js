webpackJsonp([0,1],{"2LoE":function(t,e,n){t.exports={default:n("O+Ok"),__esModule:!0}},"85vV":function(t,e){},"8SrF":function(t,e){},"8rN5":function(t,e){t.exports="data:image/png;base64,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"},"99ty":function(t,e,n){n("pCdt")("asyncIterator")},GOtJ:function(t,e,n){var o=n("nMtO"),i=n("81I8"),a=n("QlZr");t.exports=function(t){var e=o(t),n=i.f;if(n)for(var r,s=n(t),l=a.f,c=0;s.length>c;)l.call(t,r=s[c++])&&e.push(r);return e}},ILs7:function(t,e){},KHBd:function(t,e,n){var o=n("CNnV");t.exports=Array.isArray||function(t){return"Array"==o(t)}},"O+Ok":function(t,e,n){n("uYBM"),n("/kw1"),t.exports=n("ta57").f("iterator")},ONBR:function(t,e,n){var o=n("3s5o")("meta"),i=n("5Iw6"),a=n("wY8j"),r=n("10jP").f,s=0,l=Object.isExtensible||function(){return!0},c=!n("w4zy")(function(){return l(Object.preventExtensions({}))}),u=function(t){r(t,o,{value:{i:"O"+ ++s,w:{}}})},d=t.exports={KEY:o,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,o)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[o].i},getWeak:function(t,e){if(!a(t,o)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[o].w},onFreeze:function(t){return c&&d.NEED&&l(t)&&!a(t,o)&&u(t),t}}},SR0h:function(t,e,n){var o=n("QlZr"),i=n("nuT5"),a=n("+FTF"),r=n("Pduk"),s=n("wY8j"),l=n("pIvd"),c=Object.getOwnPropertyDescriptor;e.f=n("JeyM")?c:function(t,e){if(t=a(t),e=r(e,!0),l)try{return c(t,e)}catch(t){}if(s(t,e))return i(!o.f.call(t,e),t[e])}},YoUm:function(t,e,n){var o=n("9CMt"),i=n("cyVM").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,i)}},Yyxk:function(t,e,n){t.exports={default:n("t0GV"),__esModule:!0}},c7ZO:function(t,e,n){"use strict";var o=n("HxAO"),i=n("wY8j"),a=n("JeyM"),r=n("Grs1"),s=n("3s1a"),l=n("ONBR").KEY,c=n("w4zy"),u=n("Q6Pi"),d=n("og8x"),p=n("3s5o"),f=n("17EK"),g=n("ta57"),m=n("pCdt"),h=n("GOtJ"),v=n("KHBd"),b=n("pTgT"),y=n("5Iw6"),k=n("+FTF"),C=n("Pduk"),x=n("nuT5"),w=n("cCOJ"),S=n("k95z"),_=n("SR0h"),E=n("10jP"),L=n("nMtO"),A=_.f,T=E.f,M=S.f,O=o.Symbol,I=o.JSON,B=I&&I.stringify,P=f("_hidden"),G=f("toPrimitive"),z={}.propertyIsEnumerable,j=u("symbol-registry"),F=u("symbols"),D=u("op-symbols"),N=Object.prototype,R="function"==typeof O,H=o.QObject,J=!H||!H.prototype||!H.prototype.findChild,q=a&&c(function(){return 7!=w(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(t,e,n){var o=A(N,e);o&&delete N[e],T(t,e,n),o&&t!==N&&T(N,e,o)}:T,W=function(t){var e=F[t]=w(O.prototype);return e._k=t,e},Y=R&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},U=function(t,e,n){return t===N&&U(D,e,n),b(t),e=C(e,!0),b(n),i(F,e)?(n.enumerable?(i(t,P)&&t[P][e]&&(t[P][e]=!1),n=w(n,{enumerable:x(0,!1)})):(i(t,P)||T(t,P,x(1,{})),t[P][e]=!0),q(t,e,n)):T(t,e,n)},V=function(t,e){b(t);for(var n,o=h(e=k(e)),i=0,a=o.length;a>i;)U(t,n=o[i++],e[n]);return t},Z=function(t){var e=z.call(this,t=C(t,!0));return!(this===N&&i(F,t)&&!i(D,t))&&(!(e||!i(this,t)||!i(F,t)||i(this,P)&&this[P][t])||e)},K=function(t,e){if(t=k(t),e=C(e,!0),t!==N||!i(F,e)||i(D,e)){var n=A(t,e);return!n||!i(F,e)||i(t,P)&&t[P][e]||(n.enumerable=!0),n}},X=function(t){for(var e,n=M(k(t)),o=[],a=0;n.length>a;)i(F,e=n[a++])||e==P||e==l||o.push(e);return o},Q=function(t){for(var e,n=t===N,o=M(n?D:k(t)),a=[],r=0;o.length>r;)!i(F,e=o[r++])||n&&!i(N,e)||a.push(F[e]);return a};R||(s((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===N&&e.call(D,n),i(this,P)&&i(this[P],t)&&(this[P][t]=!1),q(this,t,x(1,n))};return a&&J&&q(N,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",function(){return this._k}),_.f=K,E.f=U,n("YoUm").f=S.f=X,n("QlZr").f=Z,n("81I8").f=Q,a&&!n("9czr")&&s(N,"propertyIsEnumerable",Z,!0),g.f=function(t){return W(f(t))}),r(r.G+r.W+r.F*!R,{Symbol:O});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;$.length>tt;)f($[tt++]);for(var et=L(f.store),nt=0;et.length>nt;)m(et[nt++]);r(r.S+r.F*!R,"Symbol",{for:function(t){return i(j,t+="")?j[t]:j[t]=O(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in j)if(j[e]===t)return e},useSetter:function(){J=!0},useSimple:function(){J=!1}}),r(r.S+r.F*!R,"Object",{create:function(t,e){return void 0===e?w(t):V(w(t),e)},defineProperty:U,defineProperties:V,getOwnPropertyDescriptor:K,getOwnPropertyNames:X,getOwnPropertySymbols:Q}),I&&r(r.S+r.F*(!R||c(function(){var t=O();return"[null]"!=B([t])||"{}"!=B({a:t})||"{}"!=B(Object(t))})),"JSON",{stringify:function(t){for(var e,n,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);if(n=e=o[1],(y(e)||void 0!==t)&&!Y(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Y(e))return e}),o[1]=e,B.apply(I,o)}}),O.prototype[G]||n("Sve+")(O.prototype,G,O.prototype.valueOf),d(O,"Symbol"),d(Math,"Math",!0),d(o.JSON,"JSON",!0)},"g+it":function(t,e,n){n("pCdt")("observable")},h1MZ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("4YfN"),i=n.n(o),a=(n("+VlJ"),n("vdVF")),r={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  home    \n")])},staticRenderFns:[]},s=n("C7Lr")({name:"home",data:function(){return{}},methods:{},watch:{},mounted:function(){}},r,!1,null,null,null).exports,l={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  portal    \n")])},staticRenderFns:[]},c=n("C7Lr")({name:"portal",data:function(){return{}},methods:{},watch:{},mounted:function(){}},l,!1,null,null,null).exports,u={name:"browser",props:["close","menu"],data:function(){return{url:"",tabs:[{title:"窗口1",url:"www.baidu.com",formatUrl:"http://www.baidu.com"}]}},computed:{},methods:{tabSelect:function(t){var e=this;"+"==t.title&&(this.tabs.push({title:"窗口"+(this.tabs.length+1),url:"",formatUrl:""}),this.$nextTick(function(){e.$refs.tabs.select(e.tabs.length)}))},tabClose:function(t){var e=t.title,n=parseInt(e.replace("窗口",""),10)-1;this.tabs.splice(n,1),console.log(this.tabs),0==this.tabs.length&&this.close(this.menu)},formatUrl:function(t){var e=this.tabs[t].url;e&&"http"!=e.substr(0,4)&&(e="http://"+e,this.tabs[t].formatUrl=e)},iframeLoad:function(t){document.querySelector(".iframe"+t);this.tabs[t].formatUrl}},watch:{},mounted:function(){this.$refs.tabs.select(this.tabs.length)}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{width:"100%",display:"flex","flex-direction":"column"}},[n("Tabs",{ref:"tabs",staticStyle:{height:"100%"},attrs:{border:!1,scrollable:!0},on:{tabSelect:t.tabSelect,tabClose:t.tabClose}},[n("TabPanel",{attrs:{title:"+"}}),t._v(" "),t._l(t.tabs,function(e,o){return n("TabPanel",{key:o,attrs:{title:e.title,closable:!0,bodyStyle:{display:"flex",flexDirection:"column"}}},[n("div",{staticClass:"dialog-toolbar"},[n("TextBox",{staticStyle:{width:"100%",padding:"0",border:"none",background:"none","box-shadow":"none"},attrs:{placeholder:"请输入url",inputStyle:{borderRadius:0}},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.formatUrl(o)}},model:{value:e.url,callback:function(n){t.$set(e,"url",n)},expression:"item.url"}},[n("Addon",{staticClass:"center",attrs:{align:"left"}},[n("LinkButton",{attrs:{disabled:!0,plain:!0}},[t._v("地址：")])],1),t._v(" "),n("Addon",{attrs:{align:"right"}},[n("LinkButton",{attrs:{iconCls:"fa fa-fw fa-search",plain:!0},on:{click:function(e){t.formatUrl(o)}}})],1)],1)],1),t._v(" "),n("iframe",{class:"iframe"+o,staticStyle:{flex:"1 0 auto",border:"none"},attrs:{src:e.formatUrl},on:{load:function(e){t.iframeLoad(o)}}})])})],2)],1)},staticRenderFns:[]},p=n("C7Lr")(u,d,!1,null,null,null).exports,f={name:"processList",props:["open","params"],data:function(){return{total:0,pageNumber:1,pageSize:10,data:[],selectedProcessId:[]}},methods:{selectionChange:function(t){this.selectedProcessId=[t.processId]},toEditor:function(){this.open({name:"processEditor",text:"流程设计",icon:"../static/img/icon32/workflow_32.png"},{processId:this.selectedProcessId[0]})},remove:function(){var t=this;0!=this.selectedProcessId.length?utils.http.post("/workflow/process/delete",{pid:this.selectedProcessId[0]}).then(function(e){t.list()},function(t){console.log(t)}):alert("请选择要操作的记录！")},removeAll:function(){var t=this;utils.http.post("/workflow/process/deleteAll").then(function(e){t.list()},function(t){console.log(t)})},publish:function(t){var e=this;0!=this.selectedProcessId.length?utils.http.post("/workflow/process/publish",{pid:this.selectedProcessId[0],status:t}).then(function(t){e.list()},function(t){console.log(t)}):alert("请选择要操作的记录！")},start:function(){0!=this.selectedProcessId.length?utils.http.post("/workflow/process/start",{pid:this.selectedProcessId[0]}).then(function(t){alert("流程启动成功：")},function(t){console.log(t)}):alert("请选择要操作的记录！")},toSearch:function(){},list:function(){var t=this;utils.http.post("/workflow/process/list",{example:{},pageData:{pageNum:this.pageNumber,pageSize:this.pageSize}}).then(function(e){t.data=e.data.body.data.data,t.total=e.data.body.data.total},function(t){})},pageChange:function(){this.list()}},watch:{},mounted:function(){this.list()}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box-datagrid"},[n("div",{staticClass:"dialog-toolbar"},[n("LinkButton",{attrs:{iconCls:"icon-add",plain:!0},on:{click:function(e){t.toEditor()}}},[t._v("新建")]),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-remove",plain:!0},on:{click:function(e){t.remove()}}},[t._v("删除")]),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-remove",plain:!0},on:{click:function(e){t.removeAll()}}},[t._v("全部删除")]),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-edit",plain:!0},on:{click:function(e){t.toEditor()}}},[t._v("修改")]),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-yes",plain:!0},on:{click:function(e){t.publish(1)}}},[t._v("启用")]),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-no",plain:!0},on:{click:function(e){t.publish(0)}}},[t._v("禁用")]),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-start",plain:!0},on:{click:function(e){t.start()}}},[t._v("发起")]),t._v(" "),n("LinkButton",{staticStyle:{float:"right"},attrs:{iconCls:"icon-search",plain:!0},on:{click:function(e){t.toSearch()}}},[t._v("搜索")])],1),t._v(" "),n("DataGrid",{ref:"processDataGrid",staticStyle:{height:"100%"},attrs:{groupField:"processCategoryId",pagePosition:"bottom",selectionMode:"single",pagination:!0,total:t.total,pageNumber:t.pageNumber,pageSize:t.pageSize,data:t.data,border:!1},on:{selectionChange:function(e){t.selectionChange(e)},pageChange:function(e){t.pageChange(e)}},scopedSlots:t._u([{key:"group",fn:function(e){return[n("span",{staticStyle:{"font-weight":"bold"}},[t._v("\n        "+t._s(e.value)+" - "),n("span",{staticStyle:{color:"red"}},[t._v(t._s(e.rows.length))]),t._v(" Item(s)\n      ")])]}}])},[n("GridColumn",{attrs:{field:"processId",width:"130"},scopedSlots:t._u([{key:"body",fn:function(e){return[n("CheckBox",{attrs:{multiple:!0,value:e.row.processId},model:{value:t.selectedProcessId,callback:function(e){t.selectedProcessId=e},expression:"selectedProcessId"}})]}}])}),t._v(" "),n("GridColumn",{attrs:{field:"name",title:"Name"}}),t._v(" "),n("GridColumn",{attrs:{field:"versionNo",title:"版本号"}}),t._v(" "),n("GridColumn",{attrs:{field:"processKey",title:"流程标识"}}),t._v(" "),n("GridColumn",{attrs:{field:"memo",title:"描述"}}),t._v(" "),n("GridColumn",{attrs:{field:"status",title:"状态"}}),t._v(" "),n("GridColumn",{attrs:{field:"insertTime",title:"创建时间"},scopedSlots:t._u([{key:"body",fn:function(e){return[t._v("\n        "+t._s(t._f("date")(e.row.insertTime))+"\n      ")]}}])}),t._v(" "),n("GridColumn",{attrs:{field:"updateTime",title:"更新时间"},scopedSlots:t._u([{key:"body",fn:function(e){return[t._v("\n        "+t._s(t._f("date")(e.row.updateTime))+"\n      ")]}}])})],1)],1)},staticRenderFns:[]},m=n("C7Lr")(f,g,!1,null,null,null).exports,h=n("HzJ8"),v=n.n(h),b=n("hRKE"),y=n.n(b),k={name:"remoteScript",props:["src","callback"],mounted:function(){var t=this,e=document.createElement("script");e.type="text/javascript",e.src=this.src,e.onload=e.readystatechange=function(){e.readyState&&!/loaded|complete/.test(e.readyState)||(t.$emit("callback"),e.onload=e.readystatechange=null)},document.body.appendChild(e)}},C={render:function(){var t=this.$createElement;return(this._self._c||t)("i",{staticStyle:{display:"none"}})},staticRenderFns:[]},x=n("C7Lr")(k,C,!1,null,null,null).exports,w={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DataGrid",{attrs:{data:t.config,groupField:"group",clickToEdit:!0,selectionMode:"cell",editMode:"cell",border:!1},on:{editEnd:t.edit},scopedSlots:t._u([{key:"group",fn:function(e){return[n("span",{staticStyle:{"font-weight":"bold"}},[t._v("\n      "+t._s(e.value)+"\n    ")])]}}])},[n("GridColumn",{attrs:{field:"label",title:"属性",width:"100"}}),t._v(" "),n("GridColumn",{attrs:{field:"value",title:"值",editable:!0}})],1)},staticRenderFns:[]},S=n("C7Lr")({name:"workflowConfig",props:["attributes","update"],data:function(){return{}},computed:{config:function(){return[{group:"基本配置",label:"流程名称",code:"label",value:this.attributes.label},{group:"基本配置",label:"流程key",code:"workflowKey",value:this.attributes.workflowKey},{group:"权限配置",label:"权限配置",value:""},{group:"权限配置",label:"状态",value:"已发布"}]}},methods:{edit:function(t){this.update(t.row.code,t.row.value)}},watch:{},mounted:function(){}},w,!1,null,null,null).exports,_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DataGrid",{attrs:{data:t.config,groupField:"group",clickToEdit:!0,selectionMode:"cell",editMode:"cell",border:!1},on:{editEnd:t.edit},scopedSlots:t._u([{key:"group",fn:function(e){return[n("span",{staticStyle:{"font-weight":"bold"}},[t._v("\n      "+t._s(e.value)+"\n    ")])]}}])},[n("GridColumn",{attrs:{field:"label",title:"属性",width:"100"}}),t._v(" "),n("GridColumn",{attrs:{field:"value",title:"值",editable:!0}})],1)},staticRenderFns:[]},E=n("C7Lr")({name:"startConfig",props:["attributes","update"],data:function(){return{}},computed:{config:function(){return[{group:"基本配置",label:"节点名称",code:"label",value:this.attributes.label}]}},methods:{edit:function(t){this.update(t.row.code,t.row.value)}},watch:{},mounted:function(){}},_,!1,null,null,null).exports,L=[{label:"开始",type:"start"},{label:"任务",type:"task"},{label:"结束",type:"end"},{label:"异常",type:"error"}],A={save:function(){var t=(new mxCodec).encode(editor.graph.model),e=mxUtils.getXml(t,editor.linefeed);console.log(e),utils.http.post("/workflow/process/save",{graphXml:e}).then(function(t){var e=t.data.body.data,n=editor.graph.model.getCell(0),o=editor.graph.model.cells;for(var i in n.setAttribute("workflowId",e.workflowId),o)if(graph.model.isVertex(o[i])){var a=e[o[i].id];o[i].setAttribute("nodeId",a)}})}};window.mxBasePath="static/lib/mxgraph";var T={name:"processEditor",components:{remotescript:x,WorkflowConfig:S,StartConfig:E},props:["processId"],data:function(){return{curCell:null,graphNodes:L,toolbar:{grid:!0}}},computed:{configComponent:function(){var t="";return"object"==y()(this.curCell.value)&&(t=this.curCell.value.nodeName),t+"Config"},configAttributes:function(){var t={};if(this.curCell.value){var e=this.curCell.value.attributes,n=!0,o=!1,i=void 0;try{for(var a,r=v()(e);!(n=(a=r.next()).done);n=!0){var s=a.value;t[s.nodeName]=s.nodeValue}}catch(t){o=!0,i=t}finally{try{!n&&r.return&&r.return()}finally{if(o)throw i}}}return t}},methods:i()({},A,{editorExecute:function(t){"save"==t?window.editor.execute(t,"test.html"):window.editor.execute(t)},setEdgeStyle:function(t){var e=window.graph.getModel();e.beginUpdate();try{curCell.isEdge()&&(curCell.setStyle(t),window.graph.refresh())}catch(t){alert(t)}finally{e.endUpdate()}},updateConfig:function(t,e){console.log(t+":"+e);var n=window.graph.getModel();n.beginUpdate(),this.curCell.setAttribute(t,e),graph.refresh(),n.endUpdate()},initMxgraph:function(){window.mxObjectCodec.allowEval=!0;var t=window.mxUtils.load("static/lib/mxgraph/config/workflow-editor.xml").getDocumentElement();window.editor=new window.mxEditor(t),window.graph=editor.graph,function(){var t=this;graph.setConnectable(!0),graph.setAutoSizeCells(!0),graph.graphHandler.guidesEnabled=!0;var e=graph.getPreferredSizeForCell;graph.getPreferredSizeForCell=function(t){var n=e.apply(this,arguments);if(null!=n){var o=function(t){for(var e=[0,0],n=0;n<t.length;n++)null!=t.charAt(n).match(/[^\x00-\xff]/gi)?e[0]+=1:e[1]+=1;return e}(t.getAttribute("label")),i=15.5*o[0]+8.2*o[1];n.width=Math.max(96,36+i)}return n},graph.addListener(mxEvent.LABEL_CHANGED,function(e,n){var o=n.getProperty("cell");if(t.curCell=o,graph.model.isVertex(o)&&!o.getAttribute("isSymbol")){var i=o.edges;for(var a in i){var r=i[a];r.target==o&&r.setAttribute("label","to "+o.getAttribute("label"))}var s=graph.getModel(),l=graph.getPreferredSizeForCell(o),c=s.getGeometry(o);c.width=l.width,c.height=l.height}}),graph.addListener(mxEvent.CELL_CONNECTED,function(t,e){var n=e.getProperty("edge"),o=e.getProperty("source"),i=e.getProperty("terminal");!o&&i&&n.setAttribute("label","to "+i.getAttribute("label"))}),graph.selectionModel.addListener(mxEvent.CHANGE,function(e,n){var o=n.getProperty("added"),i=n.getProperty("removed"),a=graph.getModel();a.beginUpdate();try{var r=editor.graph.model.getCell(0);1==o.length&&(t.curCell=o[0]),i&&1==i.length?t.curCell=i[0]:t.curCell=r,graph.refresh()}catch(t){alert(t)}finally{a.endUpdate()}}),new mxOutline(graph,document.getElementById("outline")),this.processId?utils.http.post("/workflow/process/details",{pid:this.processId}).then(function(e){var n=e.data.body.data.graphXml.replace(/[\r\n]/g,"");console.log(n);var o=mxUtils.parseXml(n).documentElement;editor.readGraphModel(o),t.curCell=editor.graph.model.getCell(0)},function(t){console.log(t),alert("流程图形化xml加载失败！")}):this.curCell=editor.graph.model.getCell(0)}.call(this),function(){for(var t=editor.getTemplate("start"),e=editor.getTemplate("end"),n=editor.getTemplate("error"),o=editor.getTemplate("task"),i=document.querySelectorAll(".graphElement"),a=[new mxCell(t.value,t.geometry,t.style),new mxCell(o.value,o.geometry,o.style),new mxCell(e.value,e.geometry,e.style),new mxCell(n.value,n.geometry,n.style)],r=function(t){var e=[a[t]];e[0].vertex=!0;var n=document.createElement("div");n.className="drop-no",n.innerHTML='<img src="'+i[t].src+'" width="48" height="48"/><div class="icon-drop"></div>';var o=mxUtils.makeDraggable(i[t],graph,function(t,n,o,i,a){if((e=t.getImportableCells(e)).length>0){var r=null!=o&&t.isValidDropTarget(o,e,n),s=null;null==o||r||0!=t.getModel().getChildCount(o)||t.getModel().isVertex(o)!=e[0].vertex?(null==o||r||(o=null),t.isSplitEnabled()&&t.isSplitTarget(o,e,n)?(t.splitEdge(o,e,null,i,a),s=e):(e=t.getImportableCells(e)).length>0&&(s=t.importCells(e,i,a,o))):(t.getModel().setStyle(o,style),s=[o]),null!=s&&s.length>0&&(t.scrollCellToVisible(s[0]),t.setSelectionCells(s))}},n,-5,-5,graph.autoscroll,!0,!0);document.querySelector(".graph-container"),o.dragEnter=function(){document.querySelector(".drop-no").className="drop-yes"},o.dragExit=function(){document.querySelector(".drop-yes").className="drop-no"}},s=0;s<a.length;s++)r(s)}.call(this)}}),watch:{},mounted:function(){}},M={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{position:"absolute",width:"100%",height:"100%",padding:"2px"}},[n("Layout",[n("LayoutPanel",{staticStyle:{width:"120px"},attrs:{title:"工具箱",region:"west",bodyStyle:{position:"relative"}}},[n("Accordion",{staticStyle:{position:"absolute",width:"100%",height:"100%"},attrs:{animate:!0,border:!1}},[n("AccordionPanel",{attrs:{title:"流程节点"}},t._l(t.graphNodes,function(e,o){return n("div",{staticClass:"graph-node"},[n("div",[n("img",{staticClass:"graphElement",attrs:{src:"static/img/mxgraph/"+e.type+".png"}})]),t._v(" "),n("div",[t._v(t._s(e.label))])])}),0),t._v(" "),n("AccordionPanel",{attrs:{title:"流程导向"}},[n("p",[t._v("Content2")])]),t._v(" "),n("AccordionPanel",{attrs:{title:"其他工具"}},[n("p",[t._v("Content3")])])],1)],1),t._v(" "),n("LayoutPanel",{staticStyle:{height:"100%",margin:"0 3px"},attrs:{title:"制作流程",region:"center",bodyStyle:{position:"relative"}}},[n("Layout",{staticStyle:{position:"absolute",width:"100%",height:"100%"}},[n("LayoutPanel",{attrs:{region:"north",border:!1}},[n("div",{staticClass:"dialog-toolbar graph-toolbar"},[n("LinkButton",{attrs:{iconCls:"icon-save",plain:!0,title:"保存"},on:{click:function(e){t.save()}}}),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-graph",plain:!0,title:"预览"},on:{click:function(e){t.editorExecute("exportImage")}}}),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-print",plain:!0,title:"打印"},on:{click:function(e){t.editorExecute("print")}}}),t._v(" "),n("div",{staticClass:"datagrid-btn-separator"}),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-copy",plain:!0,title:"复制"},on:{click:function(e){t.editorExecute("copy")}}}),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-paste",plain:!0,title:"粘贴"},on:{click:function(e){t.editorExecute("paste")}}}),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-cut",plain:!0,title:"剪切"},on:{click:function(e){t.editorExecute("cut")}}}),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-delete",plain:!0,title:"删除"},on:{click:function(e){t.editorExecute("delete")}}}),t._v(" "),n("div",{staticClass:"datagrid-btn-separator"}),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-undo",plain:!0,title:"后退"},on:{click:function(e){t.editorExecute("undo")}}}),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-redo",plain:!0,title:"前进"},on:{click:function(e){t.editorExecute("redo")}}}),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-reset",plain:!0,title:"重置"},on:{click:function(e){t.editorExecute("save")}}}),t._v(" "),n("div",{staticClass:"datagrid-btn-separator"}),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-zoom-in",plain:!0,title:"放大"},on:{click:function(e){t.editorExecute("zoomIn")}}}),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-zoom-out",plain:!0,title:"缩小"},on:{click:function(e){t.editorExecute("zoomOut")}}}),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-zoom-original",plain:!0,title:"还原"},on:{click:function(e){t.editorExecute("actualSize")}}}),t._v(" "),n("div",{staticClass:"datagrid-btn-separator"}),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-straight",plain:!0,title:"直线"},on:{click:function(e){t.setEdgeStyle("")}}}),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-curve",plain:!0,title:"折线"},on:{click:function(e){t.setEdgeStyle("elbowEdge")}}}),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-grid",plain:!0,title:"网格线"},on:{click:function(e){t.toolbar.grid=!t.toolbar.grid}}}),t._v(" "),n("div",{staticClass:"datagrid-btn-separator"}),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-help",plain:!0,title:"帮助"},on:{click:function(e){t.editorExecute("toggleHelp")}}})],1)]),t._v(" "),n("LayoutPanel",{staticStyle:{width:"100%",height:"100%"},attrs:{region:"center",border:!1,bodyStyle:{position:"relative"}}},[n("div",{staticClass:"graph-container",style:t.toolbar.grid?{}:{background:"none"},attrs:{id:"graph"}}),t._v(" "),n("div",{staticStyle:{"z-index":"1",position:"absolute",right:"0px",bottom:"0px",overflow:"hidden",width:"180px",height:"135px",background:"white",border:"1px solid #91A1AE"},attrs:{id:"outline"}})])],1)],1),t._v(" "),n("LayoutPanel",{staticStyle:{width:"240px"},attrs:{title:"节点配置",region:"east"}},[null!=t.curCell?n(t.configComponent,{tag:"component",attrs:{attributes:t.configAttributes,update:t.updateConfig}}):t._e()],1)],1),t._v(" "),n("remotescript",{attrs:{src:"static/lib/mxgraph/js/mxClient.js"},on:{callback:t.initMxgraph}})],1)},staticRenderFns:[]};var O=n("C7Lr")(T,M,!1,function(t){n("vzAu"),n("ILs7")},"data-v-4dd49648",null).exports,I={name:"taskList",props:["open","params"],data:function(){return{total:0,pageNumber:1,pageSize:10,data:[],selectedTaskId:[]}},methods:{selectionChange:function(t){console.log(123),this.selectedTaskId=[t.id]},submit:function(){var t=this;0!=this.selectedTaskId.length?utils.http.post("/workflow/task/submit",{taskId:this.selectedTaskId[0]}).then(function(e){t.list()},function(t){console.log(t)}):alert("请选择要操作的记录！")},toEditor:function(){this.open({name:"processEditor",text:"流程设计",icon:"../static/img/icon32/workflow_32.png"},{processId:this.selectedTaskId[0]})},toSearch:function(){},list:function(){var t=this;utils.http.post("/workflow/task/list",{pageData:{pageNumber:this.pageNumber,pageSize:this.pageSize}}).then(function(e){t.data=e.data.body.data.data,t.total=e.data.body.data.total},function(t){})},pageChange:function(){this.list()}},watch:{},mounted:function(){this.list()}},B={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box-datagrid"},[n("div",{staticClass:"dialog-toolbar"},[n("LinkButton",{attrs:{iconCls:"icon-do",plain:!0},on:{click:function(e){t.submit()}}},[t._v("处理")]),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-favorite",plain:!0,title:"标记重点任务同时自定义描述内容"},on:{click:function(e){t.toSearch()}}},[t._v("标记")]),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-task",plain:!0,title:"可在出差期间将任务交由指定人员代为处理"},on:{click:function(e){t.toSearch()}}},[t._v("代理")]),t._v(" "),n("LinkButton",{staticStyle:{float:"right"},attrs:{iconCls:"icon-search",plain:!0},on:{click:function(e){t.toSearch()}}},[t._v("搜索")])],1),t._v(" "),n("DataGrid",{ref:"taskDataGrid",staticStyle:{height:"100%"},attrs:{groupField:"processDefinitionId",pagePosition:"bottom",selectionMode:"single",pagination:!0,total:t.total,pageNumber:t.pageNumber,pageSize:t.pageSize,data:t.data,border:!1},on:{selectionChange:function(e){t.selectionChange(e)},pageChange:function(e){t.pageChange(e)}},scopedSlots:t._u([{key:"group",fn:function(e){return[n("span",{staticStyle:{"font-weight":"bold"}},[t._v("\n        "+t._s(e.value.substr(0,e.value.indexOf(":")))+" "),n("span",{staticStyle:{color:"red"}},[t._v("（"+t._s(e.rows.length)+"）")])])]}}])},[n("GridColumn",{attrs:{field:"id",width:"30"},scopedSlots:t._u([{key:"body",fn:function(e){return[n("CheckBox",{attrs:{multiple:!0,value:e.row.id},model:{value:t.selectedTaskId,callback:function(e){t.selectedTaskId=e},expression:"selectedTaskId"}})]}}])}),t._v(" "),n("GridColumn",{attrs:{field:"name",title:"任务名称"}}),t._v(" "),n("GridColumn",{attrs:{field:"description",title:"描述",width:"300"}}),t._v(" "),n("GridColumn",{attrs:{field:"owner",title:"所属人"}}),t._v(" "),n("GridColumn",{attrs:{field:"pre",title:"上一步处理人"}}),t._v(" "),n("GridColumn",{attrs:{field:"insertTime",title:"创建时间"},scopedSlots:t._u([{key:"body",fn:function(e){return[t._v("\n        "+t._s(t._f("date")(e.row.insertTime))+"\n      ")]}}])}),t._v(" "),n("GridColumn",{attrs:{title:"操作"},scopedSlots:t._u([{key:"body",fn:function(e){return[n("LinkButton",{attrs:{iconCls:"icon-do",plain:!0},on:{click:function(e){t.toSearch()}}},[t._v("处理")]),t._v(" "),n("LinkButton",{attrs:{iconCls:"icon-delegate",plain:!0},on:{click:function(e){t.toSearch()}}},[t._v("委托")])]}}])})],1)],1)},staticRenderFns:[]},P=n("C7Lr")(I,B,!1,null,null,null).exports,G={name:"Dynamic",props:["component","open","close","menu"],components:{Login:a.default,Home:s,Portal:c,Browser:p,ProcessList:m,ProcessEditor:O,TaskList:P},data:function(){return{}},methods:{},watch:{},mounted:function(){}},z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return"login"==t.component?n("Login"):"home"==t.component?n("Home"):"portal"==t.component?n("Portal"):"browser"==t.component?n("Browser",{attrs:{close:t.close,menu:t.menu}}):"processList"==t.component?n("ProcessList",{attrs:{open:t.open}}):"processEditor"==t.component?n("ProcessEditor",{attrs:{processId:t.menu.params.processId}}):"taskList"==t.component?n("TaskList",{attrs:{open:t.open}}):t._e()},staticRenderFns:[]},j=n("C7Lr")(G,z,!1,null,null,null).exports,F=(n("8SrF"),[{name:"browser",text:"浏览器",icon:"../static/img/icon32/browser_32.png",top:0,left:0,insertTime:"2019-01-01 00:00:00"},{name:"taskList",text:"我的任务",icon:"../static/img/icon32/task_32.png",top:80,left:0,insertTime:"2019-01-02 00:00:00"},{name:"portal",text:"系统门户",icon:"../static/img/icon32/portal_32.png",top:160,left:0,insertTime:"2019-01-16 00:00:00"},{name:"processEditor",text:"流程设计",icon:"../static/img/icon32/workflow_32.png",top:80,left:80,insertTime:"2019-01-22 00:00:00"},{name:"processList",text:"流程管理",icon:"../static/img/icon32/list_32.png",top:0,left:80,insertTime:"2019-01-23 00:00:00"}]),D=[{text:"主题风格",value:"",iconCls:"icon-color",children:[{value:"theme-black",text:"black",iconCls:"icon-color"},{value:"theme-bootstrap",text:"bootstrap",iconCls:"icon-color"},{value:"theme-gray",text:"gray",iconCls:"icon-color"},{value:"theme-material",text:"material",iconCls:"icon-color"},{value:"theme-material-teal",text:"material-teal",iconCls:"icon-color"},{value:"theme-ui-sunny",text:"ui-sunny",iconCls:"icon-color"},{value:"theme-ui-pepper-grinder",text:"ui-pepper-grinder",iconCls:"icon-color"},{value:"theme-ui-dark-hive",text:"ui-dark-hive",iconCls:"icon-color"},{value:"theme-ui-cupertino",text:"ui-cupertino",iconCls:"icon-color"},{value:"theme-metro-red",text:"metro-red",iconCls:"icon-color"},{value:"theme-metro-orange",text:"metro-orange",iconCls:"icon-color"},{value:"theme-metro-green",text:"metro-green",iconCls:"icon-color"},{value:"theme-metro-gray",text:"metro-gray",iconCls:"icon-color"},{value:"theme-metro-blue",text:"metro-blue",iconCls:"icon-color"}]},{value:"背景图片",text:"背景图片",iconCls:"icon-desktop",children:[{value:"bg-1.jpg",text:"1.jpg",iconCls:"icon-desktop"},{value:"bg-2.jpg",text:"2.jpg",iconCls:"icon-desktop"},{value:"bg-3.jpg",text:"3.jpg",iconCls:"icon-desktop"},{value:"bg-4.jpg",text:"4.jpg",iconCls:"icon-desktop"},{value:"bg-5.jpg",text:"5.jpg",iconCls:"icon-desktop"},{value:"bg-6.jpg",text:"6.jpg",iconCls:"icon-desktop"},{value:"bg-7.jpg",text:"7.jpg",iconCls:"icon-desktop"},{value:"bg-8.jpg",text:"8.jpg",iconCls:"icon-desktop"},{value:"bg-9.jpg",text:"9.jpg",iconCls:"icon-desktop"},{value:"bg-10.jpg",text:"10.jpg",iconCls:"icon-desktop"}]},{text:"自动排序",iconCls:"icon-sort",children:[{value:"sort-name-asc",text:"按名称升序",iconCls:"icon-sort-name-asc"},{value:"sort-name-desc",text:"按名称降序",iconCls:"icon-sort-name-desc"},{value:"sort-time-asc",text:"按时间升序",iconCls:"icon-sort-time-asc"},{value:"sort-time-desc",text:"按时间降序",iconCls:"icon-sort-time-desc"}]},{value:"lock-screen",text:"锁定屏幕",iconCls:"icon-lock"},{value:"个人设置",text:"个人设置",iconCls:"icon-config"},{value:"办公模式",text:"办公模式",iconCls:"icon-work"},{value:"fullscreen",text:"全屏显示",iconCls:"icon-fullscreen"}],N=[{group:"我的工作区",items:[{name:"我的门户",icon:"",url:""},{name:"我的任务",icon:"",url:""},{name:"已办任务",icon:"",url:""},{name:"消息提醒",icon:"",url:""},{name:"个人设置",icon:"",url:""},{name:"日程计划",icon:"",url:""},{name:"意见箱",icon:"",url:""},{name:"系统公告",icon:"",url:""}]},{group:"系统设置",items:[{name:"流程列表",icon:"",url:""},{name:"表单列表",icon:"",url:""},{name:"校验规则列表",icon:"",url:""},{name:"用户列表",icon:"",url:""},{name:"角色列表",icon:"",url:""},{name:"菜单列表",icon:"",url:""}]},{group:"其他",items:[{name:"使用帮助",icon:"",url:""}]}],R=[{name:"全屏",icon:"fa-user",url:""},{name:"办公模式",icon:"fa-user",url:""},{name:"个人设置",icon:"fa-user",url:""},{name:"注销",icon:"fa-user",url:""}],H=n("9rMa"),J=n("YtJ0"),q=80;function W(t){var e=parseInt(t/q,10)*q;return Math.abs(t%q)>q/2&&(e+=t>0?q:-1*q),e}function Y(t){var e=t.target.$el,n=t.target.$el.parentNode;return t.left<0?t.left=0:t.left+e.offsetWidth>n.offsetWidth&&(t.left=n.offsetWidth-e.offsetWidth),t.top<0?t.top=0:t.top+e.offsetHeight>n.offsetHeight&&(t.top=parseInt(n.offsetHeight/q,10)*q-e.offsetHeight),t}var U={name:"desktop",components:{dynamic:j},data:function(){return{dragMenu:null,sorting:!1,desktopMenus:F,contextMenus:D,startDialog:{closed:!0,startMenus:N,funcs:R},taskbar:{date:"",time:"",week:"",tasks:{},currentTask:null,showCalendar:!1}}},computed:{},methods:i()({},Object(H.c)({lock:"LOCK",loading:"TOGGLE_LOADING"}),{moveToTop:function(t){this.$refs[t.name][0].moveToTop()},windowDrag:function(t){var e=t.target.$el,n=t.target.$el.parentNode;t.left+e.offsetWidth<50?t.left=50-e.offsetWidth:n.offsetWidth-t.left<50&&(t.left=n.offsetWidth-50);var o=0==n.offsetHeight?this.screenHeight:n.offsetHeight;t.top<0?t.top=0:t.top>o-45&&(t.top=o-45),t.target.applyDrag()},onDragStart:function(t,e){t=Y(t),this.dragMenu=e.name},onDrag:function(t){(t=Y(t)).target.applyDrag()},onDragEnd:function(t,e){t.left=W(t.left),t.top=W(t.top),(t=Y(t)).target.$el.style.transition="all .1s";for(var n=null,o=0;o<this.desktopMenus.length;o++)n=this.desktopMenus[o],console.log(n,e),n.left==t.left&&n.top==t.top&&(t.left=e.left,t.top=e.top);e.left=t.left,e.top=t.top,t.target.applyDrag(),setTimeout(function(){t.target.$el.style.transition=""},110),this.dragMenu=null},open:function(t,e){this.taskbar.tasks[t.name]?this.$refs[t.name][0].moveToTop():(t.params=e,this.$set(this.taskbar.tasks,t.name,t)),this.taskbar.currentTask=t},close:function(t){this.closeTask(t),this.$refs[t.name][0].close()},openTask:function(t){this.$refs[t.name].open()},closeTask:function(t){var e=this;this.$nextTick(function(){e.$delete(e.taskbar.tasks,t.name)})},startDialogOpen:function(t){var e=this;setTimeout(function(){e.$refs.startDialog.$el.style.left=0})},onContextMenu:function(t){var e=this;if(-1!=t.indexOf("theme-"))J.a.commit("THEME",t.substr(6));else if(-1!=t.indexOf("bg-"))J.a.commit("BG",t.substr(3));else if(-1!=t.indexOf("sort-")){var n=t.substr(5).split("-");this.sortDesktopMenu(n[0],n[1])}else-1!=t.indexOf("fullscreen")?this.fullscreen():-1!=t.indexOf("lock-")&&(this.loading(!0),setTimeout(function(){e.lock(!0),e.loading(!1)},1e3))},sortDesktopMenu:function(t,e){var n=this;this.sorting=!0;var o=[].concat(this.desktopMenus);o.sort(function(n,o){return"time"==t?"asc"==e?n.insertTime>o.insertTime?1:-1:n.insertTime<o.insertTime?1:-1:"name"==t?"asc"==e?n.text.localeCompare(o.text):o.text.localeCompare(n.text):void 0});var i=this.screenHeight-42,a=parseInt(i/q,10);setTimeout(function(){for(var t=0;t<n.desktopMenus.length;t++)for(var e=0;e<o.length;e++)if(n.desktopMenus[t].name==o[e].name){var i=n.desktopMenus[t];i.left=parseInt(e/a,10)*q,i.top=parseInt(e%a,10)*q;break}},100),setTimeout(function(){n.sorting=!1},600)},fullscreen:function(){var t=this,e=!1;if(document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.fullscreen?e=!0:screen.width-document.body.scrollWidth<=1&&screen.height-document.body.scrollHeight<=1&&(e=!0),e){var n=document.exitFullscreen||document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen;if(void 0!==n&&n)n.call(document);else if(void 0!==window.ActiveXObject){null!=(a=new ActiveXObject("WScript.Shell"))&&a.SendKeys("{F11}")}}else{var o=document.documentElement,i=o.requestFullScreen||o.webkitRequestFullScreen||o.mozRequestFullScreen||o.msRequestFullScreen;if(void 0!==i&&i)i.call(o);else if(void 0!==window.ActiveXObject)try{var a;null!=(a=new ActiveXObject("WScript.Shell"))&&a.SendKeys("{F11}")}catch(t){alert("安全设置","此功能需要开启【对未标记为可安全执行脚本的AciveX控件初始化并执行脚本】！")}}setTimeout(function(){t.screenWidth=document.documentElement.clientWidth,t.screenHeight=document.documentElement.clientHeight},100)},initTime:function(t){if(void 0!=t){var e=new Date(t+1e3),n=e.getFullYear(),o=e.getMonth()+1,i=e.getDate(),a=e.getHours(),r=e.getMinutes(),s=e.getSeconds(),l=e.getDay(),c=[n,o<10?"0"+o:o,i<10?"0"+i:i,a<10?"0"+a:a,r<10?"0"+r:r,s<10?"0"+s:s,l];this.taskbar.date=c[0]+"-"+c[1]+"-"+c[2],this.taskbar.time=c[3]+":"+c[4],this.taskbar.week="周"+["日","一","二","三","四","五","六"][c[6]]}},init:function(){this.initTime((new Date).getTime())}}),watch:{},mounted:function(){this.init();this.desktopMenus[4]}},V={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{position:"absolute",width:"100%",height:"100%"}},[o("link",{attrs:{rel:"stylesheet",href:"../static/css/icon.css"}}),t._v(" "),o("Layout",{style:{background:"url(../static/img/desktop/"+t.$store.state.common.ui.bg+")"}},[o("LayoutPanel",{style:{width:"100%",height:t.screenHeight-42+"px"},attrs:{region:"center",border:!1,bodyStyle:{background:"none"}},nativeOn:{contextmenu:function(e){e.preventDefault(),t.$refs.desktopMenu.showContextMenu(e.pageX,e.pageY)}}},[t._l(t.desktopMenus,function(e,n){return o("a",{directives:[{name:"Draggable",rawName:"v-Draggable",value:{cursor:"default",dragStart:function(n){t.onDragStart(n,e)},drag:t.onDrag,dragEnd:function(n){t.onDragEnd(n,e)}},expression:"{cursor:'default', dragStart: (d)=>{onDragStart(d, menu)}, drag: onDrag, dragEnd: (d)=>{onDragEnd(d, menu)}}"}],staticClass:"desktop-menu",style:{opacity:t.dragMenu==e.name?.5:1,left:e.left+"px",top:e.top+"px",transition:t.sorting?"all .5s":""},on:{dblclick:function(n){t.open(e,{})}}},[o("img",{attrs:{src:e.icon}}),t._v(" "),o("span",[t._v(t._s(e.text))])])}),t._v(" "),o("div",{ref:"calendar",staticClass:"easyui-calendar",staticStyle:{display:"none",position:"absolute",right:"0",bottom:"0"}}),t._v(" "),o("img",{ref:"recycle",staticStyle:{display:"none",opacity:"0.6",position:"absolute",right:"0",bottom:"0"},attrs:{src:n("8rN5")}}),t._v(" "),o("Calendar",{directives:[{name:"show",rawName:"v-show",value:t.taskbar.showCalendar,expression:"taskbar.showCalendar"}],staticStyle:{position:"absolute",right:"0",bottom:"0",width:"250px",height:"250px"}}),t._v(" "),o("Menu",{ref:"desktopMenu",staticStyle:{width:"150px"},on:{itemClick:t.onContextMenu}},t._l(t.contextMenus,function(e,n){return o("MenuItem",{key:n,attrs:{value:e.value,text:e.text,iconCls:e.iconCls}},[e.children?o("SubMenu",t._l(e.children,function(t,e){return o("MenuItem",{key:e,attrs:{value:t.value,text:t.text,iconCls:t.iconCls}})}),1):t._e()],1)}),1),t._v(" "),t._l(t.taskbar.tasks,function(e,n,i){return o("Dialog",{key:n,ref:e.name,refInFor:!0,attrs:{title:e.text,dialogStyle:{width:t.screenWidth+"px",height:t.screenHeight-45+"px"},bodyStyle:{display:"flex",position:"relative"},modal:!1,draggable:!0,resizable:!0,minimizable:!0,maximizable:!0,draggableOptions:{dragStart:function(n){t.moveToTop(e)},drag:function(e){t.windowDrag(e)}}},on:{close:function(n){t.closeTask(e)}}},[o("dynamic",{attrs:{component:e.name,open:t.open,close:t.close,menu:e}})],1)}),t._v(" "),o("Dialog",{ref:"startDialog",attrs:{title:"管理员",closable:!1,closed:t.startDialog.closed,open:t.startDialogOpen(),panelCls:"startDialog"}},[o("table",{attrs:{cellspacing:"0",cellpadding:"0"}},[o("tr",[o("td",[o("div",{staticStyle:{width:"158px",padding:"10px",height:"340px"}},[o("div",{staticStyle:{height:"320px","text-align":"left"}},t._l(t.startDialog.startMenus,function(e,n){return o("SplitButton",{key:n,attrs:{text:e.group,plain:!0,iconCls:"fa fa-book"}},[o("Menu",t._l(e.items,function(t,e){return o("MenuItem",{key:e,attrs:{text:t.name}})}),1)],1)}),1)])]),t._v(" "),o("td",[o("div",{staticClass:"panel-header",staticStyle:{height:"350px","border-top":"0px","border-right":"0px","border-bottom":"0px"}},[o("div",{staticClass:"center",staticStyle:{cursor:"pointer",margin:"15px auto 5px"}},[o("i",{staticClass:"fa fa-user",staticStyle:{"font-size":"48px"}})]),t._v(" "),o("div",{staticClass:"screen-name"}),t._v(" "),o("div",{staticClass:"menu-seq"}),t._v(" "),o("div",{staticStyle:{width:"100px",height:"80px"}}),t._v(" "),o("div",{staticStyle:{position:"absolute",bottom:"3px",width:"100px"}},[t._l(t.startDialog.funcs,function(e,n){return[o("LinkButton",{attrs:{plain:!0,iconCls:"fa "+e.icon}},[t._v(t._s(e.name))]),t._v(" "),n!=t.startDialog.funcs.length-1?o("div",{staticClass:"menu-seq"}):t._e()]})],2)])])])])])],2),t._v(" "),o("LayoutPanel",{staticStyle:{height:"42px"},attrs:{region:"south"}},[o("div",{ref:"taskbar",staticStyle:{height:"42px"},attrs:{"data-options":"region:'south'"}},[o("div",{staticClass:"panel-header",staticStyle:{height:"40px",padding:"0",border:"0",overflow:"hidden"}},[o("table",{staticStyle:{width:"100%",height:"40px"},attrs:{cellspacing:"0",cellpadding:"0"}},[o("tr",[o("td",{staticClass:"start-box"},[o("div",{ref:"start",staticClass:"start",class:{"start-hover":!t.startDialog.closed},on:{click:function(e){t.startDialog.closed=!t.startDialog.closed}}})]),t._v(" "),o("td",{attrs:{width:"20px"}}),t._v(" "),o("td",t._l(t.taskbar.tasks,function(e,n,i){return o("button",{key:n,staticClass:"task-icon",on:{click:function(n){t.openTask(e)}}},[o("img",{style:{opacity:t.taskbar.currentTask.name==e.name?1:.5},attrs:{src:e.icon}})])}),0),t._v(" "),o("td",{staticClass:"time-box",on:{click:function(e){t.taskbar.showCalendar=!t.taskbar.showCalendar}}},[o("span",{staticClass:"time-box-hour"},[t._v(t._s(t.taskbar.time))]),o("span",{staticClass:"time-box-week"},[t._v(t._s(t.taskbar.week))]),o("br"),t._v(" "),o("span",{staticClass:"time-box-date"},[t._v(t._s(t.taskbar.date))])]),t._v(" "),o("td",{staticClass:"desktop-show",staticStyle:{border:"0"}},[o("span",{staticClass:"seq"})])])])])])])],1)],1)},staticRenderFns:[]};var Z=n("C7Lr")(U,V,!1,function(t){n("qJKV"),n("85vV")},"data-v-25738172",null);e.default=Z.exports},hRKE:function(t,e,n){"use strict";e.__esModule=!0;var o=r(n("2LoE")),i=r(n("Yyxk")),a="function"==typeof i.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":typeof t};function r(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof i.default&&"symbol"===a(o.default)?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":void 0===t?"undefined":a(t)}},j7Oc:function(t,e){},k95z:function(t,e,n){var o=n("+FTF"),i=n("YoUm").f,a={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return r&&"[object Window]"==a.call(t)?function(t){try{return i(t)}catch(t){return r.slice()}}(t):i(o(t))}},pCdt:function(t,e,n){var o=n("HxAO"),i=n("ZQXR"),a=n("9czr"),r=n("ta57"),s=n("10jP").f;t.exports=function(t){var e=i.Symbol||(i.Symbol=a?{}:o.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:r.f(t)})}},qJKV:function(t,e){},t0GV:function(t,e,n){n("c7ZO"),n("s2JU"),n("99ty"),n("g+it"),t.exports=n("ZQXR").Symbol},ta57:function(t,e,n){e.f=n("17EK")},vdVF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("4YfN"),i=n.n(o),a=n("YtJ0"),r=n("9rMa"),s={name:"login",data:function(){return{model:{userId:"admin",username:"admin",password:"admin",captcha:"",captchaToken:""},toggle:{login:!1,loading:!1,loginType:"form"},server:Config.server,base64Img:""}},methods:i()({},Object(r.c)({doLogin:"LOGIN",doLogout:"LOGOUT"}),{getCaptcha:function(){var t=this;utils.http.post("/manage/user/captcha").then(function(e){t.model.captchaToken=e.data.body.data.captchaToken,t.base64Img="data:image/png;base64, "+e.data.body.data.base64Img})},login:function(){var t=this;a.a.state.common.ui.loading||(""!=this.model.captcha?(a.a.commit("TOGGLE_LOADING",!0),setTimeout(function(){utils.http.post("/manage/user/login",t.model).then(function(e){e.data.body.data?(t.doLogin({user:e.data.body.data.user,userSetting:e.data.body.data.userSetting}),setTimeout(function(){t.go("/page/home")},500)):(a.a.commit("TOGGLE_POPUP",{visible:!0,text:e.data.head.msg,duration:3e3}),t.getCaptcha()),setTimeout(function(){a.a.commit("TOGGLE_LOADING",!1)},1e3)},function(e){setTimeout(function(){t.go("/page/home")},500),setTimeout(function(){a.a.commit("TOGGLE_LOADING",!1)},1e3)})},10)):a.a.commit("TOGGLE_POPUP",{visible:!0,text:"验证码不能为空",duration:3e3}))},reset:function(){this.model={}},changeTab:function(){}}),watch:{server:function(t){Config.server=t}},mounted:function(){},beforeRouteEnter:function(t,e,n){n(function(t){t.doLogout(),t.getCaptcha(),t.model.captcha=""})}},l={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  login    \n")])},staticRenderFns:[]};var c=n("C7Lr")(s,l,!1,function(t){n("j7Oc")},"data-v-961d2190",null);e.default=c.exports},vzAu:function(t,e){}});
//# sourceMappingURL=0.ade14c0cdcc8c0fdf912.js.map